{"remainingRequest":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\ag-grid\\dist\\lib\\rowNodes\\filterService.js","dependencies":[{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\ag-grid\\dist\\lib\\rowNodes\\filterService.js","mtime":1525243700300},{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1530947965468},{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["/**\n * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v17.1.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar context_1 = require(\"../context/context\");\nvar filterManager_1 = require(\"../filter/filterManager\");\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\nvar FilterService = /*@__PURE__*/ (function () {\n    function FilterService() {\n    }\n    FilterService.prototype.postConstruct = function () {\n        this.doingTreeData = this.gridOptionsWrapper.isTreeData();\n    };\n    FilterService.prototype.filterAccordingToColumnState = function (rowNode) {\n        var filterActive = this.filterManager.isAnyFilterPresent();\n        this.filter(rowNode, filterActive);\n    };\n    FilterService.prototype.filter = function (rowNode, filterActive) {\n        var _this = this;\n        // recursively get all children that are groups to also filter\n        if (rowNode.hasChildren()) {\n            rowNode.childrenAfterGroup.forEach(function (node) { return _this.filter(node, filterActive); });\n            // result of filter for this node\n            if (filterActive) {\n                rowNode.childrenAfterFilter = rowNode.childrenAfterGroup.filter(function (childNode) {\n                    // a group is included in the result if it has any children of it's own.\n                    // by this stage, the child groups are already filtered\n                    var passBecauseChildren = childNode.childrenAfterFilter && childNode.childrenAfterFilter.length > 0;\n                    // both leaf level nodes and tree data nodes have data. these get added if\n                    // the data passes the filter\n                    var passBecauseDataPasses = childNode.data && _this.filterManager.doesRowPassFilter(childNode);\n                    // note - tree data nodes pass either if a) they pass themselves or b) any children of that node pass\n                    return passBecauseChildren || passBecauseDataPasses;\n                });\n            }\n            else {\n                // if not filtering, the result is the original list\n                rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n            }\n            this.setAllChildrenCount(rowNode);\n        }\n        else {\n            rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n            rowNode.setAllChildrenCount(null);\n        }\n    };\n    FilterService.prototype.setAllChildrenCountTreeData = function (rowNode) {\n        // for tree data, we include all children, groups and leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            // include child itself\n            allChildrenCount++;\n            // include children of children\n            allChildrenCount += child.allChildrenCount;\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCountGridGrouping = function (rowNode) {\n        // for grid data, we only count the leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            if (child.group) {\n                allChildrenCount += child.allChildrenCount;\n            }\n            else {\n                allChildrenCount++;\n            }\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCount = function (rowNode) {\n        if (this.doingTreeData) {\n            this.setAllChildrenCountTreeData(rowNode);\n        }\n        else {\n            this.setAllChildrenCountGridGrouping(rowNode);\n        }\n    };\n    __decorate([\n        context_1.Autowired('filterManager'),\n        __metadata(\"design:type\", filterManager_1.FilterManager)\n    ], FilterService.prototype, \"filterManager\", void 0);\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], FilterService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        context_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], FilterService.prototype, \"postConstruct\", null);\n    FilterService = __decorate([\n        context_1.Bean(\"filterService\")\n    ], FilterService);\n    return FilterService;\n}());\nexports.FilterService = FilterService;\n",null]}