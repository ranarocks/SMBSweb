{"remainingRequest":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\ag-grid\\dist\\lib\\gridCore.js","dependencies":[{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\ag-grid\\dist\\lib\\gridCore.js","mtime":1525243698342},{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1530947965468},{"path":"D:\\Imp\\Learn\\SMBSweb\\UX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["/**\n * ag-grid - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v17.1.1\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nvar __param = /*@__PURE__*/ require(\"tslib\").__param;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gridOptionsWrapper_1 = require(\"./gridOptionsWrapper\");\nvar columnApi_1 = require(\"./columnController/columnApi\");\nvar columnController_1 = require(\"./columnController/columnController\");\nvar rowRenderer_1 = require(\"./rendering/rowRenderer\");\nvar filterManager_1 = require(\"./filter/filterManager\");\nvar eventService_1 = require(\"./eventService\");\nvar gridPanel_1 = require(\"./gridPanel/gridPanel\");\nvar logger_1 = require(\"./logger\");\nvar constants_1 = require(\"./constants\");\nvar popupService_1 = require(\"./widgets/popupService\");\nvar events_1 = require(\"./events\");\nvar utils_1 = require(\"./utils\");\nvar borderLayout_1 = require(\"./layout/borderLayout\");\nvar context_1 = require(\"./context/context\");\nvar focusedCellController_1 = require(\"./focusedCellController\");\nvar component_1 = require(\"./widgets/component\");\nvar paginationComp_1 = require(\"./rowModels/pagination/paginationComp\");\nvar gridApi_1 = require(\"./gridApi\");\nvar GridCore = /*@__PURE__*/ (function () {\n    function GridCore(loggerFactory) {\n        this.destroyFunctions = [];\n        this.logger = loggerFactory.create('GridCore');\n    }\n    GridCore.prototype.init = function () {\n        var _this = this;\n        var eSouthPanel = this.createSouthPanel();\n        var eastPanel;\n        var westPanel;\n        if (this.toolPanelComp && !this.gridOptionsWrapper.isForPrint()) {\n            // if we are doing RTL, then the tool panel appears on the left\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                westPanel = this.toolPanelComp.getGui();\n            }\n            else {\n                eastPanel = this.toolPanelComp.getGui();\n            }\n        }\n        var createTopPanelGui = this.createNorthPanel();\n        this.eRootPanel = new borderLayout_1.BorderLayout({\n            center: this.gridPanel.getLayout(),\n            east: eastPanel,\n            west: westPanel,\n            north: createTopPanelGui,\n            south: eSouthPanel,\n            forPrint: this.gridOptionsWrapper.isForPrint(),\n            autoHeight: this.gridOptionsWrapper.isAutoHeight(),\n            name: 'eRootPanel'\n        });\n        // parts of the CSS need to know if we are in 'for print' mode or not,\n        // so we add a class to allow applying CSS based on this.\n        if (this.gridOptionsWrapper.isForPrint()) {\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-layout-for-print');\n            // kept to limit breaking changes, ag-no-scrolls was renamed to ag-layout-for-print\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-no-scrolls');\n        }\n        else if (this.gridOptionsWrapper.isAutoHeight()) {\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-layout-auto-height');\n        }\n        else {\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-layout-normal');\n            // kept to limit breaking changes, ag-scrolls was renamed to ag-layout-normal\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-scrolls');\n        }\n        // see what the grid options are for default of toolbar\n        this.showToolPanel(this.gridOptionsWrapper.isShowToolPanel());\n        this.eGridDiv.appendChild(this.eRootPanel.getGui());\n        // if using angular, watch for quickFilter changes\n        if (this.$scope) {\n            var quickFilterUnregisterFn = this.$scope.$watch(this.quickFilterOnScope, function (newFilter) { return _this.filterManager.setQuickFilter(newFilter); });\n            this.destroyFunctions.push(quickFilterUnregisterFn);\n        }\n        if (!this.gridOptionsWrapper.isForPrint()) {\n            this.addWindowResizeListener();\n        }\n        // important to set rtl before doLayout, as setting the RTL class impacts the scroll position,\n        // which doLayout indirectly depends on\n        this.addRtlSupport();\n        this.doLayout();\n        this.finished = false;\n        this.periodicallyDoLayout();\n        this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this));\n        this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.onRowGroupChanged.bind(this));\n        this.onRowGroupChanged();\n        this.logger.log('ready');\n    };\n    GridCore.prototype.addRtlSupport = function () {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-rtl');\n        }\n        else {\n            utils_1.Utils.addCssClass(this.eRootPanel.getGui(), 'ag-ltr');\n        }\n    };\n    GridCore.prototype.createNorthPanel = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isEnterprise()) {\n            return null;\n        }\n        var topPanelGui = document.createElement('div');\n        var dropPanelVisibleListener = this.onDropPanelVisible.bind(this);\n        this.rowGroupComp = this.rowGroupCompFactory.create();\n        this.pivotComp = this.pivotCompFactory.create();\n        topPanelGui.appendChild(this.rowGroupComp.getGui());\n        topPanelGui.appendChild(this.pivotComp.getGui());\n        this.rowGroupComp.addEventListener(component_1.Component.EVENT_VISIBLE_CHANGED, dropPanelVisibleListener);\n        this.pivotComp.addEventListener(component_1.Component.EVENT_VISIBLE_CHANGED, dropPanelVisibleListener);\n        this.destroyFunctions.push(function () {\n            _this.rowGroupComp.removeEventListener(component_1.Component.EVENT_VISIBLE_CHANGED, dropPanelVisibleListener);\n            _this.pivotComp.removeEventListener(component_1.Component.EVENT_VISIBLE_CHANGED, dropPanelVisibleListener);\n        });\n        this.onDropPanelVisible();\n        return topPanelGui;\n    };\n    GridCore.prototype.onDropPanelVisible = function () {\n        var bothVisible = this.rowGroupComp.isVisible() && this.pivotComp.isVisible();\n        this.rowGroupComp.addOrRemoveCssClass('ag-width-half', bothVisible);\n        this.pivotComp.addOrRemoveCssClass('ag-width-half', bothVisible);\n    };\n    GridCore.prototype.getRootGui = function () {\n        return this.eRootPanel.getGui();\n    };\n    GridCore.prototype.createSouthPanel = function () {\n        if (!this.statusBar && this.gridOptionsWrapper.isEnableStatusBar()) {\n            console.warn('ag-Grid: status bar is only available in ag-Grid-Enterprise');\n        }\n        var statusBarEnabled = this.statusBar && this.gridOptionsWrapper.isEnableStatusBar();\n        var isPaging = this.gridOptionsWrapper.isPagination();\n        var paginationPanelEnabled = isPaging\n            && !this.gridOptionsWrapper.isForPrint()\n            && !this.gridOptionsWrapper.isSuppressPaginationPanel();\n        if (!statusBarEnabled && !paginationPanelEnabled) {\n            return null;\n        }\n        var eSouthPanel = document.createElement('div');\n        if (statusBarEnabled) {\n            eSouthPanel.appendChild(this.statusBar.getGui());\n        }\n        if (paginationPanelEnabled) {\n            var paginationComp = new paginationComp_1.PaginationComp();\n            this.context.wireBean(paginationComp);\n            eSouthPanel.appendChild(paginationComp.getGui());\n            this.destroyFunctions.push(paginationComp.destroy.bind(paginationComp));\n        }\n        return eSouthPanel;\n    };\n    GridCore.prototype.onRowGroupChanged = function () {\n        if (!this.rowGroupComp) {\n            return;\n        }\n        var rowGroupPanelShow = this.gridOptionsWrapper.getRowGroupPanelShow();\n        if (rowGroupPanelShow === constants_1.Constants.ALWAYS) {\n            this.rowGroupComp.setVisible(true);\n        }\n        else if (rowGroupPanelShow === constants_1.Constants.ONLY_WHEN_GROUPING) {\n            var grouping = !this.columnController.isRowGroupEmpty();\n            this.rowGroupComp.setVisible(grouping);\n        }\n        else {\n            this.rowGroupComp.setVisible(false);\n        }\n        this.eRootPanel.doLayout();\n    };\n    GridCore.prototype.addWindowResizeListener = function () {\n        var eventListener = this.doLayout.bind(this);\n        window.addEventListener('resize', eventListener);\n        this.destroyFunctions.push(function () { return window.removeEventListener('resize', eventListener); });\n    };\n    GridCore.prototype.periodicallyDoLayout = function () {\n        var _this = this;\n        if (!this.finished) {\n            var intervalMillis = this.gridOptionsWrapper.getLayoutInterval();\n            // if interval is negative, this stops the layout from happening\n            if (intervalMillis > 0) {\n                this.frameworkFactory.setTimeout(function () {\n                    _this.doLayout();\n                    _this.gridPanel.periodicallyCheck();\n                    _this.periodicallyDoLayout();\n                }, intervalMillis);\n            }\n            else {\n                // if user provided negative number, we still do the check every 5 seconds,\n                // in case the user turns the number positive again\n                this.frameworkFactory.setTimeout(function () {\n                    _this.periodicallyDoLayout();\n                }, 5000);\n            }\n        }\n    };\n    GridCore.prototype.showToolPanel = function (show) {\n        if (!this.toolPanelComp) {\n            if (show) {\n                console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            }\n            return;\n        }\n        this.toolPanelComp.init();\n        this.toolPanelComp.showToolPanel(show);\n        this.eRootPanel.doLayout();\n    };\n    GridCore.prototype.isToolPanelShowing = function () {\n        return this.toolPanelComp.isToolPanelShowing();\n    };\n    GridCore.prototype.destroy = function () {\n        this.finished = true;\n        this.eGridDiv.removeChild(this.eRootPanel.getGui());\n        this.logger.log('Grid DOM removed');\n        this.destroyFunctions.forEach(function (func) { return func(); });\n    };\n    // Valid values for position are bottom, middle and top\n    GridCore.prototype.ensureNodeVisible = function (comparator, position) {\n        if (position === void 0) {\n            position = 'top';\n        }\n        if (this.doingVirtualPaging) {\n            throw 'Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory';\n        }\n        // look for the node index we want to display\n        var rowCount = this.rowModel.getPageLastRow() + 1;\n        var comparatorIsAFunction = typeof comparator === 'function';\n        var indexToSelect = -1;\n        // go through all the nodes, find the one we want to show\n        for (var i = 0; i < rowCount; i++) {\n            var node = this.rowModel.getRow(i);\n            if (comparatorIsAFunction) {\n                if (comparator(node)) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n            else {\n                // check object equality against node and data\n                if (comparator === node || comparator === node.data) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n        }\n        if (indexToSelect >= 0) {\n            this.gridPanel.ensureIndexVisible(indexToSelect, position);\n        }\n    };\n    GridCore.prototype.doLayout = function () {\n        // need to do layout first, as drawVirtualRows and setPinnedColHeight\n        // need to know the result of the resizing of the panels.\n        var sizeChanged = this.eRootPanel.doLayout();\n        // not sure why, this is a hack, but if size changed, it may need to be called\n        // again - as the size change can change whether scrolls are visible or not (i think).\n        // to see why, take this second 'doLayout' call out, and see example in docs for\n        // width & height, the grid will flicker as it doesn't get laid out correctly with\n        // one call to doLayout()\n        if (sizeChanged) {\n            this.eRootPanel.doLayout();\n        }\n        // both of the two below should be done in gridPanel, the gridPanel should register 'resize' to the panel\n        if (sizeChanged) {\n            this.rowRenderer.redrawAfterScroll();\n            var event_1 = {\n                type: events_1.Events.EVENT_GRID_SIZE_CHANGED,\n                clientWidth: this.eRootPanel.getGui().clientWidth,\n                clientHeight: this.eRootPanel.getGui().clientHeight,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    __decorate([\n        context_1.Autowired('gridOptions'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"gridOptions\", void 0);\n    __decorate([\n        context_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)\n    ], GridCore.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        context_1.Autowired('rowModel'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"rowModel\", void 0);\n    __decorate([\n        context_1.Autowired('frameworkFactory'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"frameworkFactory\", void 0);\n    __decorate([\n        context_1.Autowired('columnController'),\n        __metadata(\"design:type\", columnController_1.ColumnController)\n    ], GridCore.prototype, \"columnController\", void 0);\n    __decorate([\n        context_1.Autowired('rowRenderer'),\n        __metadata(\"design:type\", rowRenderer_1.RowRenderer)\n    ], GridCore.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        context_1.Autowired('filterManager'),\n        __metadata(\"design:type\", filterManager_1.FilterManager)\n    ], GridCore.prototype, \"filterManager\", void 0);\n    __decorate([\n        context_1.Autowired('eventService'),\n        __metadata(\"design:type\", eventService_1.EventService)\n    ], GridCore.prototype, \"eventService\", void 0);\n    __decorate([\n        context_1.Autowired('gridPanel'),\n        __metadata(\"design:type\", gridPanel_1.GridPanel)\n    ], GridCore.prototype, \"gridPanel\", void 0);\n    __decorate([\n        context_1.Autowired('eGridDiv'),\n        __metadata(\"design:type\", HTMLElement)\n    ], GridCore.prototype, \"eGridDiv\", void 0);\n    __decorate([\n        context_1.Autowired('$scope'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"$scope\", void 0);\n    __decorate([\n        context_1.Autowired('quickFilterOnScope'),\n        __metadata(\"design:type\", String)\n    ], GridCore.prototype, \"quickFilterOnScope\", void 0);\n    __decorate([\n        context_1.Autowired('popupService'),\n        __metadata(\"design:type\", popupService_1.PopupService)\n    ], GridCore.prototype, \"popupService\", void 0);\n    __decorate([\n        context_1.Autowired('focusedCellController'),\n        __metadata(\"design:type\", focusedCellController_1.FocusedCellController)\n    ], GridCore.prototype, \"focusedCellController\", void 0);\n    __decorate([\n        context_1.Autowired('context'),\n        __metadata(\"design:type\", context_1.Context)\n    ], GridCore.prototype, \"context\", void 0);\n    __decorate([\n        context_1.Autowired('columnApi'),\n        __metadata(\"design:type\", columnApi_1.ColumnApi)\n    ], GridCore.prototype, \"columnApi\", void 0);\n    __decorate([\n        context_1.Autowired('gridApi'),\n        __metadata(\"design:type\", gridApi_1.GridApi)\n    ], GridCore.prototype, \"gridApi\", void 0);\n    __decorate([\n        context_1.Optional('rowGroupCompFactory'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"rowGroupCompFactory\", void 0);\n    __decorate([\n        context_1.Optional('pivotCompFactory'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"pivotCompFactory\", void 0);\n    __decorate([\n        context_1.Optional('toolPanelComp'),\n        __metadata(\"design:type\", Object)\n    ], GridCore.prototype, \"toolPanelComp\", void 0);\n    __decorate([\n        context_1.Optional('statusBar'),\n        __metadata(\"design:type\", component_1.Component)\n    ], GridCore.prototype, \"statusBar\", void 0);\n    __decorate([\n        context_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], GridCore.prototype, \"init\", null);\n    __decorate([\n        context_1.PreDestroy,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], GridCore.prototype, \"destroy\", null);\n    GridCore = __decorate([\n        context_1.Bean('gridCore'),\n        __param(0, context_1.Qualifier('loggerFactory'))\n    ], GridCore);\n    return GridCore;\n}());\nexports.GridCore = GridCore;\n",null]}